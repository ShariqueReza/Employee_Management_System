{% extends "base_template/base.html" %}
{% block title %}Home{% endblock title %}
{% load static %}
{% block content %}
         <form method="POST" class="bg-body py-5 justify-content-center" id="formbackground">
            {% csrf_token %}
            <h2 class="fs-3 fw-bold text-decoration-underline mb-5">Add Leave</h2>

           {{form.emp_name}}
            <div id="alertName" class="alert alert-danger p-2 w-75 mx-auto d-none">Select valid Employee Name</div>

            {{form.emp_id}}
            <div id="alertEmpid" class="alert alert-danger p-2 w-75 mx-auto d-none">Select valid Employee ID</div>

            {{form.from_date}}
            <div id="alertFrom" class="alert alert-danger p-2 w-75 mx-auto d-none">Enter valid time</div>


            {{form.to_date}}
            <div id="alertTo" class="alert alert-danger p-2 w-75 mx-auto d-none">Enter valid time</div>

            {{form.reason}}
            <div id="alertReason" class="alert alert-danger p-2 w-75 mx-auto d-none">Reason is required and should not contain any special characters.</div>
      

            <div class="d-flex justify-content-end w-75 mx-auto">
               <button class="btn btn-primary p-2"  id="addBtn" type="submit">Add Leave</button>
           </div>
         </form>


        <div class="w-auto mx-auto">
            <h2 class="fs-3 fw-bold text-decoration-underline mb-2 mt-5">Leave Entries</h2>
            <table class="table table-dark table-hover mt-4 mb-5 text-center w-75">
               <thead class="fw-bold">
                <th>EmpID</th>
                <th>Name</th>
                <th>From</th>
                <th>To</th>
                <th>Reason</th>
                <th colspan="2">Action</th>
            </thead>
            <tbody id="LeaveTable">
               {% for l in leave %}
               <tr>
                  <td>{{l.emp_id}}</td>
                  <td>{{l.emp_name}}</td>
                  <td>{{l.from_date}}</td>
                  <td>{{l.to_date}}</td>
                  <td>{{l.reason}}</td>
                  <td>{{l.action}}</td>

               </tr>
               {% endfor %}
            </tbody>
         </table>
      </div>
   </section>
   {% endblock content %}